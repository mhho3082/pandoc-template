---
title: |
  \vspace{2in} <!-- Adjust as appropriate -->
  \begin{tabular}{c}
    Test Document: \\
    Using Pandoc for Document Generation \\
  \end{tabular}
author:
  - Max Ho ([\@mhho3082](https://github.com/mhho3082/))
date: '`\today`{=latex}' # Swap to a static date if needed
subject: "Pandoc"
keywords: ["Pandoc", "Document Generation", "Writing", "Prose"]
lang: en

geometry: margin=1in
mainfont: "Times New Roman"
sansfont: "Times New Roman"
monofont: "JetBrainsMono Nerd Font Mono"
fontsize: 12pt
colorlinks: true
linkcolor: black

toc: true
toc-title: Table of Content

link-citations: true
citecolor: black

include-before:
  - |
    \large
    \begin{obeylines}
      \textbf{NOTE:}
      This is a testing document.
      Please modify it to suit your needs.
    \end{obeylines}
    \normalsize
  - '`\pagenumbering{gobble}`{=latex}' # Disable page numbering
  - '`\newpage{}`{=latex}' # Start ToC in new page
...

<!-- Table of Content is generated here, right after title -->

\newpage

<!-- Switch to normal ('arabic') page numbering -->
<!-- ( You can also use 'roman' page numbering for preamble) -->
<!-- (https://latex-tutorial.com/page-numbering-latex/) -->

`\pagenumbering{arabic}`{=latex}

<!-- Adjust paragraph spacing -->

`\setlength\parskip{2em}`{=latex}

# Quick Start

Install the following as necessary:
(Their Arch Linux package names are also provided)

- Core
  - [Pandoc](https://pandoc.org/) (`pandoc-bin`):
    The main compiler
  - [TeX Live](https://tug.org/texlive/) (`meta-group-texlive-most`):
    Provides latex-to-pdf compilation
- Filters
  - [`pandoc-crossref`](https://github.com/lierdakil/pandoc-crossref) (`pandoc-crossref-bin`):
    Allows referencing figures and more
  - [`mermaid-filter`](https://github.com/raghur/mermaid-filter):
    Allows compiling graphs from Mermaid syntax
  - [`pandoc-plot`](https://github.com/LaurentRDC/pandoc-plot) (`pandoc-plot-bin`):
    Allows generating graphs using code
    - [`matplotlib`](https://matplotlib.org/) (`python-matplotlib`):
      Plotting with Python's `matplotlib` library
    - [`python-networkx`] and [`python-scikit-learn`] for calculations

Then, modify the `makefile` as appropriate:

```make
input_file  = draft.md
output_name = output
ref_bib     = references.bib
csl_file    = pandoc_tools/ieee.csl
```

Now, you can write your document in the input file(s)
and run `make` to compile the `.pdf` document.
For ease of use, you can run `make open` (or `make o`)
to open the compiled file(s).

Most markdown, HTML, and LaTeX syntaxes are allowed -
just don't mix them up, or they may not function properly.
For the special syntaxes for graph drawing and citing,
please refer to their specific filters above.

\newpage

# Tips and Tricks

## In document body

- Use `\newpage` wherever you want to make a page break
- Use `&nbsp;` to create a non-printed paragraph,
  effectively expanding a particular paragraph spacing
- Use `$$` for LaTeX maths
- Use `{.xxx}` as inline code's language block
  to allow for configuration for various filters

## As LaTeX configuration

Below is how you may inject some LaTeX code
without making it act as its own paragraph:

```markdown
`\pagenumbering{arabic}`{=latex}
```

- Use `\vspace{...}` to add some vertical spacing
  (Helpful to create a title page)
- `\pagenumbering{gobble}` removes the page number counting,
  `\pagenumbering{arabic}` and other options chooses a particular counting method
  & resets the page counter
- Use `\setlength\parskip{...}` and other `parskip` package options
  to modify paragraph indent and spacing

\newpage

# Plots

```{.py .matplotlib format=svg caption="A matplotlib test code." #fig:plot}
import matplotlib.pyplot as plt

plt.style.use("ggplot")
fig, axs = plt.subplots(2)

for ax in axs.flat:
    ax.plot(list(range(1, 8)), [
        0.0108, 0.0504, 0.2084, 1.017, 3.2246, 197.0262, 1447.2966,
    ])
    ax.set_xlabel("Number of leading zeros")
    ax.set_ylabel("Time (seconds)")
    ax.grid()

axs[1].set_yscale("log")
axs[0].set_title("Average Time Required (linear)")
axs[1].set_title("Average Time Required (Logarithmic)")

plt.tight_layout()
```

So [@fig:plot] is generated by `matplotlib`.

```{.mermaid format=svg}
gantt
    dateFormat  YYYY-MM-DD
    todayMarker off

    Literature review      : 2023-11-05, 3w
    Application skeleton   : 1w
    Core features          : 2w
    User interface         : 1w
    File import and export : 1w
```

Another diagram above is generated by `mermaid`,
which have nice syntaxes for various graphs.
Do note that some diagram types, such as `flowchart`,
may require `png` output instead of the nicer `svg`,
else the text would not load in them.
Also, for some reason,
`pandoc-crossref` do not work with `mermaid-filter`'s diagrams.

\newpage

# Tables

Below is a basic Markdown table,
which would be rendered based on the template selected for Pandoc:

| Type | A   | B   | C   |
| ---: | --- | --- | --- |
|    A | 1   | 2   | 3   |
|    B | 1   | 2   | 3   |

Here is one using the `\tabular` LaTeX command,
which is much more configurable:

_(But note that `crossref`'s table reference
does not work, but equation reference does instead;
and also `crossref`'s equation reference syntax
messes up `prettier` for some reason)_

$$
\begin{tabular}{r|c|c|c}
  \textbf{Type} & \textbf{A} & \textbf{B} & \textbf{C} \\
  \hline
  A & 1 & 2 & 3 \\
  B & 1 & 2 & 3 \\
\end{tabular}
$$

You can refer to
[latex-tutorial.com/tutorials/tables](https://latex-tutorial.com/tutorials/tables/)
for the syntax for LaTeX tables.

You can also generate tables with `matplotlib`:

```{.py .matplotlib format=svg caption="A matplotlib based table." #fig:mpltable}
import matplotlib.pyplot as plt

plt.style.use("ggplot")
fig, ax = plt.subplots(figsize=(4, 1))

data = [
  [1, 2, 3, 4, 5],
  [6, 7, 8, 9, 10],
]

ax.table(
  cellText=data,
  cellLoc="center",
  loc="center",
  rowLabels=["Line 1", "Line 2"],
  colLabels=["A", "B", "C", "D", "E"]
)
ax.axis(False)

plt.tight_layout()
```

\newpage

# References

<!-- Bibliography is generated here, at the end of document -->
